{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/dongkyun/Project/GiveChain/frontend/givechain-next/hooks/useAuth.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, ReactNode } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport type User = {\n  id?: number;\n  name: string;\n  email: string;\n  walletAddress: string;\n  accessToken?: string;\n};\n\ntype AuthContextValue = {\n  user: User | null;\n  setUser: (u: User | null) => void;\n  logout: () => void;\n};\n\nconst AuthContext = createContext<AuthContextValue | null>(null);\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<User | null>(null);\n  const router = useRouter();\n\n  const logout = () => {\n    setUser(null);               // 로그인 정보 비우고\n    router.push(\"/login\");       // 로그인 페이지로 이동\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, setUser, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const ctx = useContext(AuthContext);\n  if (!ctx) {\n    throw new Error(\"useAuth는 AuthProvider 내부에서만 사용해야 합니다.\");\n  }\n  return ctx;\n};"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAmBA,MAAM,4BAAc,IAAA,sNAAa,EAA0B;AAEpD,MAAM,eAAe,CAAC,EAAE,QAAQ,EAA2B;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,SAAS;QACb,QAAQ,OAAqB,aAAa;QAC1C,OAAO,IAAI,CAAC,WAAiB,cAAc;IAC7C;IAEA,qBACE,8OAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAO;kBAClD;;;;;;AAGP;AAEO,MAAM,UAAU;IACrB,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///Users/dongkyun/Project/GiveChain/frontend/givechain-next/lib/api.ts"],"sourcesContent":["export const logoutRequest = async () => {\n  const res = await fetch(\"http://localhost:8080/api/auth/logout\", {\n    method: \"DELETE\",\n    credentials: \"include\",\n  });\n\n  if (!res.ok) {\n    console.error(\"[logout] 서버 로그아웃 실패:\", await res.text());\n    throw new Error(\"서버 로그아웃 실패\");\n  }\n};"],"names":[],"mappings":";;;;AAAO,MAAM,gBAAgB;IAC3B,MAAM,MAAM,MAAM,MAAM,yCAAyC;QAC/D,QAAQ;QACR,aAAa;IACf;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,QAAQ,KAAK,CAAC,wBAAwB,MAAM,IAAI,IAAI;QACpD,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///Users/dongkyun/Project/GiveChain/frontend/givechain-next/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { logoutRequest } from \"@/lib/api\";\n\nexport default function Navbar() {\n  const pathname = usePathname();\n  const { user, logout } = useAuth();\n\n  const handleLogout = async () => {\n    try {\n      await logoutRequest();  // 서버 로그아웃 요청\n    } catch (e) {\n      console.error(\"로그아웃 실패:\", e);\n    }\n\n    logout(); // 클라이언트 로그아웃\n  };\n\n  return (\n    <header className=\"border-b border-gray-800 bg-[#0d1117]\">\n      <nav className=\"max-w-4xl mx-auto flex items-center justify-between px-4 py-3\">\n        <Link href=\"/main\" className=\"text-lg font-bold text-indigo-400\">GiveChain</Link>\n\n        <ul className=\"flex items-center gap-6 text-sm font-medium\">\n          <li><Link href=\"/main\" className=\"text-gray-300 hover:text-white\">기부</Link></li>\n          <li><Link href=\"/main/ranking\" className=\"text-gray-300 hover:text-white\">랭킹</Link></li>\n          <li><Link href=\"/main/badges\" className=\"text-gray-300 hover:text-white\">배지</Link></li>\n\n          {user ? (\n            <>\n              <span className=\"text-gray-400\">{user.name}님</span>\n              <button\n                onClick={handleLogout}\n                className=\"px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white\"\n              >\n                로그아웃\n              </button>\n            </>\n          ) : (\n            <Link\n              href=\"/login\"\n              className=\"px-3 py-1 rounded-md bg-indigo-600 hover:bg-indigo-700 text-white\"\n            >\n              로그인\n            </Link>\n          )}\n        </ul>\n      </nav>\n    </header>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,4HAAO;IAEhC,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,2HAAa,KAAK,aAAa;QACvC,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,YAAY;QAC5B;QAEA,UAAU,aAAa;IACzB;IAEA,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,uKAAI;oBAAC,MAAK;oBAAQ,WAAU;8BAAoC;;;;;;8BAEjE,8OAAC;oBAAG,WAAU;;sCACZ,8OAAC;sCAAG,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAQ,WAAU;0CAAiC;;;;;;;;;;;sCAClE,8OAAC;sCAAG,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAgB,WAAU;0CAAiC;;;;;;;;;;;sCAC1E,8OAAC;sCAAG,cAAA,8OAAC,uKAAI;gCAAC,MAAK;gCAAe,WAAU;0CAAiC;;;;;;;;;;;wBAExE,qBACC;;8CACE,8OAAC;oCAAK,WAAU;;wCAAiB,KAAK,IAAI;wCAAC;;;;;;;8CAC3C,8OAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;yDAKH,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb"}}]
}